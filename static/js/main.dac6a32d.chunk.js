(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{91:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),r=n.n(c),i=n(11),s=n.n(i),o=(n(91),n(40)),l=n(13),j=n(33),u=n.n(j),b=n(45),h=n(18),d=n(34),p=n(152),O=n(155),x=n(156),f=n(157),m=n(154),g=n(149),k=Object(g.a)({card:{height:"250px"}}),v=function(){var e=k(),t=Object(c.useState)(),n=Object(h.a)(t,2),i=n[0],s=n[1];return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://fierce-dawn-51159.herokuapp.com/","api/recipes"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,s(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert("Error! ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(d.a,{variant:"h1",children:"Reseptit"}),Object(a.jsx)(d.a,{variant:"body1",children:"Rutkasti herkullisia reseptej\xe4, uudessa ulkoasussa!"}),Object(a.jsx)(m.a,{container:!0,spacing:1,children:i&&i.map((function(t){return Object(a.jsx)(m.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(a.jsxs)(O.a,{className:e.card,children:[Object(a.jsx)(x.a,{title:t.name,subheader:t.description}),Object(a.jsx)(f.a,{children:Object(a.jsxs)(d.a,{variant:"body2",color:"textSecondary",component:"p",children:[t.ingredients.map((function(e){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsxs)("span",{children:[e.name," ",":"," ",e.amount]}),Object(a.jsx)("br",{})]},e.name)})),t.instruction]})})]})},t._id)}))})]})},y=function(){return Object(a.jsxs)(p.a,{children:[Object(a.jsx)(d.a,{variant:"h1",children:"Kotiverkko 2.0"}),Object(a.jsx)(d.a,{variant:"body1",children:"Kaikki palvelut, joita kotona voi tarvita! Typescriptill\xe4!"})]})},w=n(27),S=n(174),C=n(175),I=n(161),P=n(163),F=n(167),N=n(166),D=n(162),E=n(164),T=n(165),L=n(78),A=function(){var e=r.a.useState(!1),t=Object(h.a)(e,2),n=t[0],i=t[1],s=r.a.useState([]),o=Object(h.a)(s,2),l=o[0],j=o[1],O=r.a.useState([]),x=Object(h.a)(O,2),f=x[0],m=x[1],g=r.a.useState(""),k=Object(h.a)(g,2),v=k[0],y=k[1],A=r.a.useState(!1),B=Object(h.a)(A,2),J=B[0],K=B[1],M=r.a.useState([]),R=Object(h.a)(M,2),z=R[0],H=R[1],V=r.a.useState(null),W=Object(h.a)(V,2),_=W[0],q=W[1],G=r.a.useState(null),Q=Object(h.a)(G,2),U=Q[0],X=Q[1],Y=!1,Z=n&&Y&&v.length>2,$=J&&0===z.length,ee="https://fierce-dawn-51159.herokuapp.com/";Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y=!0,e.prev=1,e.next=4,fetch("".concat(ee,"api/stops?name=").concat(v));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,j(n),Y=!1,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),Y=!1,alert("Error! ".concat(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();3===v.length&&e(),v.length<3&&j([])}),[v]),Object(c.useEffect)((function(){(function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,a,c,r,i,s,o,l,j,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==f.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("".concat(ee,"api/routes"));case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,a=f.map((function(e){return e.routes.map((function(e){return e.id}))})),c=a.flat(),r=c.filter((function(e,t,n){return n.indexOf(e)===t})),console.log(r),i=n.filter((function(e){return null===r||void 0===r?void 0:r.includes(e.id)})),H(i),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),alert("Error! ".concat(e.t0));case 20:return e.prev=20,s=f.map((function(e){return"stop=".concat(e.gtfsId)})),console.log(s),o="".concat(ee,"api/departures?").concat(s.join("&")),console.log(o),e.next=27,fetch(o);case 27:return l=e.sent,e.next=30,l.json();case 30:j=e.sent,console.log(j.data),console.log(j.data.stops),b=[],j.data.stops.forEach((function(e){b.push(e.stoptimesWithoutPatterns)})),console.log(b),X(b.flat()),e.next=42;break;case 39:e.prev=39,e.t1=e.catch(20),alert("Error! ".concat(e.t1));case 42:case"end":return e.stop()}}),e,null,[[2,17],[20,39]])})));return function(){return e.apply(this,arguments)}})()()}),[f]);var te=Date.now(),ne=Math.floor(te/1e3),ae=function(e){var t=new Date(1e3*e);return"".concat(t.getHours(),":").concat(t.getMinutes())};return Object(a.jsxs)(p.a,{children:[Object(a.jsx)(d.a,{variant:"h1",children:"Julkisen liikenteen yhteydet"}),Object(a.jsx)(C.a,{id:"selectstops",multiple:!0,style:{width:300},open:n,onOpen:function(){i(!0)},onClose:function(){i(!1)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},renderOption:function(e){return Object(a.jsxs)(a.Fragment,{children:[e.name," ","(",e.code,")"]})},options:l,loading:Z,inputValue:v,onInputChange:function(e,t){y(t)},renderInput:function(e){return Object(a.jsx)(S.a,Object(w.a)(Object(w.a)({},e),{},{label:"Pys\xe4kki",variant:"outlined",InputProps:Object(w.a)(Object(w.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[Z?Object(a.jsx)(I.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t){m(t)},value:f}),f?Object(a.jsx)(C.a,{id:"selectroutes",style:{width:300},open:J,onOpen:function(){K(!0)},onClose:function(){K(!1)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.shortName},renderOption:function(e){return Object(a.jsxs)(a.Fragment,{children:[e.shortName," ","(",e.longName,")"]})},options:z,loading:$,renderInput:function(e){return Object(a.jsx)(S.a,Object(w.a)(Object(w.a)({},e),{},{label:"Linjat",variant:"outlined",InputProps:Object(w.a)(Object(w.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[Z?Object(a.jsx)(I.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t){q(t)},value:_}):null,Object(a.jsx)(d.a,{variant:"body1",children:"T\xe4\xe4lt\xe4 n\xe4kee mik\xe4 bussi tai juna on l\xe4hd\xf6ss\xe4! T.D\xf6s\xe4kuski"}),f&&_&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d.a,{variant:"body1",children:"T\xe4ss\xe4 n\xe4ytet\xe4\xe4n tulevat l\xe4hd\xf6t pys\xe4kilt\xe4 ".concat(f[0].name," linjalle ").concat(_.shortName," (").concat(_.longName,")")}),Object(a.jsx)(D.a,{component:L.a,children:Object(a.jsxs)(P.a,{"aria-label":"simple table",children:[Object(a.jsx)(E.a,{children:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(N.a,{children:"Linja"}),Object(a.jsx)(N.a,{align:"right",children:"Pys\xe4kki"}),Object(a.jsx)(N.a,{align:"right",children:"M\xe4\xe4r\xe4np\xe4\xe4"}),Object(a.jsx)(N.a,{align:"right",children:"Kello"}),Object(a.jsx)(N.a,{align:"right",children:"Aikaa l\xe4ht\xf6\xf6n"})]})}),Object(a.jsx)(F.a,{children:U.map((function(e){return Object(a.jsxs)(T.a,{children:[Object(a.jsx)(N.a,{component:"th",scope:"row",children:e.trip.route.shortName}),Object(a.jsx)(N.a,{align:"right",children:f[0].name}),Object(a.jsx)(N.a,{align:"right",children:e.headsign}),Object(a.jsx)(N.a,{align:"right",children:ae(e.scheduledDeparture+e.serviceDay)}),Object(a.jsxs)(N.a,{align:"right",children:[(e.scheduledDeparture+e.serviceDay-ne)/60,"min"]})]},"".concat(e.scheduledDeparture))}))})]})})]})]})},B=n(75),J=n(168),K=n(169),M=Object(B.a)({palette:{type:"dark"}}),R=function(e){var t=e.children;return Object(a.jsxs)(J.a,{theme:M,children:[Object(a.jsx)(K.a,{}),t]})},z=n(170),H=n(171),V=n(159),W=n(74),_=n.n(W),q=n(172),G=n(173),Q=n(177),U=n(160),X=Object(g.a)((function(e){return{menuButton:{},title:{},root:{background:e.palette.primary.dark}}})),Y=function(){var e=X(),t=r.a.useState(!1),n=Object(h.a)(t,2),c=n[0],i=n[1],s=function(){i(!1)};return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(z.a,{position:"static",children:Object(a.jsxs)(H.a,{children:[Object(a.jsx)(V.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){i(!0)},children:Object(a.jsx)(_.a,{})}),Object(a.jsx)(d.a,{variant:"h6",className:e.title,children:"Kotiverkko 2.0"})]})}),Object(a.jsx)(Q.a,{anchor:"left",open:c,onClose:s,children:Object(a.jsxs)(U.a,{children:[Object(a.jsx)(q.a,{button:!0,component:o.b,to:"/",onClick:s,children:Object(a.jsx)(G.a,{primary:"Home"})},"home"),Object(a.jsx)(q.a,{button:!0,component:o.b,to:"/reseptit",onClick:s,children:Object(a.jsx)(G.a,{primary:"Reseptit"})},"recipes"),Object(a.jsx)(q.a,{button:!0,component:o.b,to:"/joukkoliikenne",onClick:s,children:Object(a.jsx)(G.a,{primary:"Joukkoliikenne"})},"publicTransport")]})})]})},Z=function(){return Object(a.jsx)(R,{children:Object(a.jsxs)(o.a,{basename:"/project",children:[Object(a.jsx)(Y,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(y,{})}),Object(a.jsx)(l.a,{path:"/reseptit",children:Object(a.jsx)(v,{})}),Object(a.jsx)(l.a,{path:"/joukkoliikenne",children:Object(a.jsx)(A,{})})]})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,179)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Z,{})}),document.getElementById("root")),$()}},[[99,1,2]]]);
//# sourceMappingURL=main.dac6a32d.chunk.js.map